The program first uses regex to do almost all of the checking for input validity. If input is not in the right format, it will output "Invalid Expression!". A special case is taken care of by replacing any "--" with "- -", so that an expression like "5--5" will work like "5 - -5". Then, eval is used to try and evaluate the input. If that fails, then assume there is some other error that maybe regex didn't catch. Also output "Invalid Expression!". There is also an extra check for the special case of division by zero, with another regex. This outputs its own special error.